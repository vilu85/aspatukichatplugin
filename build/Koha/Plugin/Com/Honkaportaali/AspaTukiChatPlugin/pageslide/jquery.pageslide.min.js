!function(e){var i,t=e("body"),a=e("#pageslide"),d=!1;function s(i,t){if(0===i.indexOf("#"))e(i).clone(!0).appendTo(a.empty()).show();else{if(t){var d=e("<iframe />").attr({src:i,frameborder:0,hspace:0}).css({width:"100%",height:"100%"});a.html(d)}else a.load(i);a.data("localEl",!1)}}function n(e,i){var s=a.outerWidth(!0),n={};if(!a.is(":visible")&&!d){switch(d=!0,e){case"left":a.css({left:"auto",right:"-"+s+"px"}),n.right="+="+s;break;default:a.css({left:"-"+s+"px",right:"auto"}),n.left="+="+s}t.animate({},i),a.show().animate(n,i,(function(){d=!1}))}}0==a.length&&(a=e("<div />").attr("id","pageslide").css("display","none").appendTo(e("body"))),e.fn.pageslide=function(t){this.click((function(d){var s=e(this),n=e.extend({href:s.attr("href")},t);d.preventDefault(),d.stopPropagation(),a.is(":visible")&&s[0]==i?e.pageslide.close():(e.pageslide(n),i=s[0])}))},e.fn.pageslide.defaults={speed:200,direction:"right",modal:!1,iframe:!0,href:null},e.pageslide=function(i){var t=e.extend({},e.fn.pageslide.defaults,i);a.is(":visible")&&a.data("direction")!=t.direction?e.pageslide.close((function(){s(t.href,t.iframe),n(t.direction,t.speed)})):(s(t.href,t.iframe),a.is(":hidden")&&n(t.direction,t.speed)),a.data(t)},e.pageslide.close=function(i){var a=e("#pageslide"),s=a.outerWidth(!0),n=a.data("speed"),l={};if(!a.is(":hidden")&&!d){switch(d=!0,a.data("direction")){case"left":l.right="-="+s;break;default:l.left="-="+s}a.animate(l,n),t.animate({},n,(function(){a.hide(),d=!1,void 0!==i&&i()}))}},a.click((function(e){e.stopPropagation()})),e(document).bind("click keyup",(function(i){"keyup"==i.type&&27!=i.keyCode||a.is(":visible")&&!a.data("modal")&&e.pageslide.close()}))}(jQuery);