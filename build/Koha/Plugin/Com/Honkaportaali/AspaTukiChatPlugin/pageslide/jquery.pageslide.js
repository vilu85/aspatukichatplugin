!function(e){var i,t=e("body"),a=e("#pageslide"),d=!1;function n(i,t){if(0===i.indexOf("#"))e(i).clone(!0).appendTo(a.empty()).show();else{if(t){var d=e("<iframe />").attr({src:i,frameborder:0,hspace:0}).css({width:"100%",height:"100%"});a.html(d)}else a.load(i);a.data("localEl",!1)}}function s(e,i){var n=a.outerWidth(!0),s={},l={};if(!a.is(":visible")&&!d){switch(d=!0,e){case"left":a.css({left:"auto",right:"-"+n+"px"}),s["margin-left"]="-="+n,l.right="+="+n;break;default:a.css({left:"-"+n+"px",right:"auto"}),s["margin-left"]="+="+n,l.left="+="+n}t.animate(s,i),a.show().animate(l,i,(function(){d=!1}))}}0==a.length&&(a=e("<div />").attr("id","pageslide").css("display","none").appendTo(e("body"))),e.fn.pageslide=function(t){this.click((function(d){var n=e(this),s=e.extend({href:n.attr("href")},t);d.preventDefault(),d.stopPropagation(),a.is(":visible")&&n[0]==i?e.pageslide.close():(e.pageslide(s),i=n[0])}))},e.fn.pageslide.defaults={speed:200,direction:"right",modal:!1,iframe:!0,href:null},e.pageslide=function(i){var t=e.extend({},e.fn.pageslide.defaults,i);a.is(":visible")&&a.data("direction")!=t.direction?e.pageslide.close((function(){n(t.href,t.iframe),s(t.direction,t.speed)})):(n(t.href,t.iframe),a.is(":hidden")&&s(t.direction,t.speed)),a.data(t)},e.pageslide.close=function(i){var a=e("#pageslide"),n=a.outerWidth(!0),s=a.data("speed"),l={},o={};if(!a.is(":hidden")&&!d){switch(d=!0,a.data("direction")){case"left":l["margin-left"]="+="+n,o.right="-="+n;break;default:l["margin-left"]="-="+n,o.left="-="+n}a.animate(o,s),t.animate(l,s,(function(){a.hide(),d=!1,void 0!==i&&i()}))}},a.click((function(e){e.stopPropagation()})),e(document).bind("click keyup",(function(i){"keyup"==i.type&&27!=i.keyCode||a.is(":visible")&&!a.data("modal")&&e.pageslide.close()}))}(jQuery);